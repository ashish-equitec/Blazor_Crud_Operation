@page "/addemployee"
@using BlazorApp1.Data
@using BlazorApp1.Models
@using System.Reflection
@inject EmployeeService EmployeeService
@inject NavigationManager NavigationManager

<div class="container mt-5">
    <EditForm Model="emp" OnValidSubmit="AddEmployee">
    <DataAnnotationsValidator />
        <h1 class="colorBlue">
            ADD NEW EMPLOYEE
        </h1>
        <ul class="row forumBox">
            <li class="col-3 required">
                <label class="inputLabel">
                   Name
                </label>
            </li>
            <li class="col-3">
                <div class="form_inputBox">
                    <InputText @bind-Value="emp.Name" class="form-control" maxlength="20" placeholder="Enter the Name" />
                </div>
                <div class="erroeText">
                     <ValidationMessage For="(()=>emp.Name)"></ValidationMessage>
                </div>
            </li>

            <li class="col-3 required">
                <label class="inputLabel">
                   Date of Birth
                </label>
            </li>
            <li class="col-3">
                <div class="form_inputBox">
                    <InputText @bind-Value="emp.DOB" class="form-control" maxlength="100" placeholder="dd-mm-yyyy" />
                </div>
                <div class="erroeText">
                        <ValidationMessage For="(()=>emp.DOB)"></ValidationMessage>
                </div>
            </li>

            <li class="col-3 required">
                <label class="inputLabel">
                    Location
                </label>
            </li>
            <li class="col-3">
                <div class="form_inputBox">
                    <InputText @bind-Value="emp.Location" class="form-control" maxlength="20" placeholder="Enter the location" />
                </div>
                <div class="erroeText">
                     <ValidationMessage For="(()=>emp.Location)"></ValidationMessage>
                </div>
            </li>

            <li class="col-3 required">
                <label class="inputLabel">
                   Designation
                </label>
            </li>
            <li class="col-3">
                <div class="form_inputBox">
                    <InputText @bind-Value="emp.Designation" class="form-control" maxlength="100" placeholder="Enter the designation" />
                </div>
                <div class="erroeText">
                     <ValidationMessage For="(()=>emp.Designation)"></ValidationMessage>
                </div>
            </li>


            <li class="col-3 required">
                <label class="inputLabel">
                    Email Address
                </label>
            </li>

            <li class="col-3">
                <div class="form_inputBox">
                    <InputText @bind-Value="emp.Email_Address" class="form-control" maxlength="100" placeholder="Enter the email address" />
                </div>
                <div class="erroeText">
                    <ValidationMessage For="(()=>emp.Email_Address)"></ValidationMessage>
                </div>
            </li>

            <li class="col-3">
                <label class="inputLabel">
                   Gender
                </label>
            </li>
            <li class="col-3">
                <div class="form_inputBox">
                    <select class="form-control" id="gender" @bind="emp.Gender">
                        <option value="" disabled selected>-- Select --</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
            </li>

            <li class="col-3">
                <label class="inputLabel">
                    Skills
                </label>
            </li>
            <li class="col-3">
                <div class="form_inputBox">
                    <div class="form-check form-check-inline">
                        @foreach (var skill in presentSkills)
                        {
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="@($"sk{skill.Id}")"
                                       checked="@SkillId.Contains(skill.Id)"
                                       @onchange="@(e => BoxSkills(skill.Id))" />
                                <label class="form-check-label" for="@($"sk{skill.Id}")">@skill.Skills</label>
                            </div>
                        }
                    </div>
                </div>
            </li>

            <li class="col-12">
                <div class="form_btns">
                    <button type="submit" class="common_btn btnBlue">Save</button>
                    <button class="common_btn btnWhite" @onclick="OnCancel">Cancel</button>
                </div>
            </li>
        </ul>
</EditForm>
</div>